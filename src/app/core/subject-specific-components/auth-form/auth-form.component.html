<div class="auth-form-container">
  <div class="auth-form">
    <div class="auth-form__avatar">
      <app-icon [icon]="formSettings?.icon" class="auth-form__icon"></app-icon>
    </div>

    <div class="auth-form__header">
      <div class="auth-form__header-box">
        <h2 class="auth-form__heading">{{ formSettings?.header }}</h2>
        <form [formGroup]="authForm">
          <ng-container *ngIf="authFormType !== 'sign-in'">
            <input
              placeholder="*First Name"
              spellcheck="false"
              class="input input--light input--regular"
              name="firstName"
              formControlName="firstName"
              autocomplete="off"
            />
            <mat-error
              *ngIf="
                firstName &&
                firstName.invalid &&
                (firstName.dirty || firstName.touched || submitClicked)
              "
              >Name is required</mat-error
            >
            <input
              placeholder="*Last Name"
              spellcheck="false"
              class="input input--light input--regular"
              name="lastName"
              formControlName="lastName"
              autocomplete="off"
            />
            <mat-error
              *ngIf="
                submitClicked &&
                lastName &&
                lastName.invalid &&
                (lastName.dirty || lastName.touched || submitClicked)
              "
              >Last Name is required</mat-error
            >
          </ng-container>

          <input
            placeholder="*Email"
            spellcheck="false"
            type="email"
            class="input input--light input--regular"
            name="email"
            formControlName="email"
            autocomplete="off"
          />
          <mat-error
            *ngIf="
              email &&
              email.errors &&
              email.errors['required'] &&
              (email.dirty || email.touched || submitClicked)
            "
            >Email is required</mat-error
          >

          <mat-error
            *ngIf="
              email &&
              email.errors &&
              email.errors['email'] &&
              (email.dirty || email.touched || submitClicked)
            "
            >Email is invalid</mat-error
          >

          <input
            placeholder="*Password"
            type="password"
            spellcheck="false"
            class="input input--light input--regular"
            name="password"
            formControlName="password"
            autocomplete="off"
          />
          <mat-error
            *ngIf="
              password &&
              password.errors &&
              password.errors['required'] &&
              (password.dirty || password.touched || submitClicked)
            "
            >Password is required</mat-error
          >

          <mat-error
            *ngIf="
              authForm &&
              authForm.errors &&
              (password.dirty || password.touched || submitClicked)
            "
          >
            {{ passwordError }}
          </mat-error>
        </form>
      </div>
    </div>

    <div class="auth-form__btn">
      <app-button
        color="primary"
        [buttonType]="buttonType.Flat"
        [icon]="formSettings?.buttonIcon"
        [text]="formSettings?.buttonText"
        (clicked)="onSubmit()"
      ></app-button>
    </div>

    <div *ngIf="authFormType === 'sign-up'" class="auth-form__btn-extra">
      <app-button text="Sign In" (clicked)="onClickSignIn()"></app-button>
    </div>
    <div *ngIf="authFormType === 'sign-in'" class="auth-form__btn-extra">
      <app-button text="Sign Up" (clicked)="onClickSignUp()"></app-button>
    </div>
  </div>
</div>
